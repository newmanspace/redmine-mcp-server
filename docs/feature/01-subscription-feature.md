# é¡¹ç›®è®¢é˜…åŠŸèƒ½ - åŠŸèƒ½æè¿°æ–‡æ¡£

**ç‰ˆæœ¬**: v1.0  
**å‘å¸ƒæ—¥æœŸ**: 2026-02-26  
**çŠ¶æ€**: âœ… å·²å‘å¸ƒ

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

é¡¹ç›®è®¢é˜…åŠŸèƒ½å…è®¸ç”¨æˆ·è®¢é˜… Redmine é¡¹ç›®çš„çŠ¶æ€æŠ¥å‘Šï¼Œç³»ç»Ÿä¼šæ ¹æ®é…ç½®çš„é¢‘ç‡è‡ªåŠ¨æ¨é€é¡¹ç›®ä¿¡æ¯åˆ°æŒ‡å®šæ¸ é“ï¼ˆé’‰é’‰/Telegramï¼‰ã€‚

### æ ¸å¿ƒä»·å€¼

- ğŸ“Š **å®æ—¶æŒæ¡é¡¹ç›®åŠ¨æ€** - æ— éœ€ä¸»åŠ¨æŸ¥è¯¢ï¼Œé‡è¦ä¿¡æ¯è‡ªåŠ¨æ¨é€
- â° **çµæ´»æ¨é€é¢‘ç‡** - æ”¯æŒå®æ—¶/æ¯æ—¥/æ¯å‘¨/æ¯æœˆå¤šç§é¢‘ç‡
- ğŸ“ **ä¸¤ç§æŠ¥å‘Šçº§åˆ«** - ç®€è¦ç‰ˆå¿«é€Ÿæµè§ˆï¼Œè¯¦ç»†ç‰ˆæ·±åº¦åˆ†æ
- ğŸ’¬ **å¤šæ¸ é“æ”¯æŒ** - é’‰é’‰ã€Telegram æ¶ˆæ¯æ¨é€
- ğŸ¯ **æ™ºèƒ½é£é™©è¯†åˆ«** - è‡ªåŠ¨è¯†åˆ«é€¾æœŸ Issue å’Œè´Ÿè½½é¢„è­¦

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

### åœºæ™¯ 1: é¡¹ç›®ç»ç†æ¯æ—¥è·Ÿè¿›
> ä½œä¸ºé¡¹ç›®ç»ç†ï¼Œæˆ‘å¸Œæœ›æ¯å¤©æ—©ä¸Š 9 ç‚¹æ”¶åˆ°è´Ÿè´£é¡¹ç›®çš„ç®€è¦æŠ¥å‘Šï¼Œå¿«é€Ÿäº†è§£æ˜¨æ—¥è¿›å±•ã€‚

**é…ç½®**:
```bash
subscribe_project(project_id=341, frequency="daily", level="brief", push_time="09:00")
```

### åœºæ™¯ 2: æŠ€æœ¯è´Ÿè´£äººå‘¨åº¦å¤ç›˜
> ä½œä¸ºæŠ€æœ¯è´Ÿè´£äººï¼Œæˆ‘å¸Œæœ›æ¯å‘¨ä¸€æ”¶åˆ°è¯¦ç»†æŠ¥å‘Šï¼Œåˆ†æå›¢é˜Ÿè´Ÿè½½å’Œé¡¹ç›®é£é™©ã€‚

**é…ç½®**:
```bash
subscribe_project(project_id=341, frequency="weekly", level="detailed", push_time="Mon 09:00")
```

### åœºæ™¯ 3: å¤šé¡¹ç›®ç®¡ç†
> ä½œä¸ºéƒ¨é—¨ä¸»ç®¡ï¼Œæˆ‘éœ€è¦åŒæ—¶å…³æ³¨å¤šä¸ªé¡¹ç›®çš„çŠ¶æ€ã€‚

**é…ç½®**:
```bash
subscribe_project(project_id=341, frequency="daily", push_time="09:00")
subscribe_project(project_id=372, frequency="daily", push_time="09:30")
subscribe_project(project_id=356, frequency="weekly", push_time="Mon 10:00")
```

### åœºæ™¯ 4: ä¸´æ—¶é¡¹ç›®æ£€æŸ¥
> æˆ‘éœ€è¦ä¸´æ—¶æŸ¥çœ‹æŸä¸ªé¡¹ç›®çš„å½“å‰çŠ¶æ€ï¼Œä¸éœ€è¦å®šæœŸè®¢é˜…ã€‚

**é…ç½®**:
```bash
generate_subscription_report(project_id=341, level="detailed")
```

---

## ğŸ”§ åŠŸèƒ½ç‰¹æ€§

### 1. è®¢é˜…ç®¡ç†

| åŠŸèƒ½ | è¯´æ˜ | å·¥å…·åç§° |
|------|------|----------|
| åˆ›å»ºè®¢é˜… | è®¢é˜…ä¸€ä¸ªé¡¹ç›® | `subscribe_project` |
| å–æ¶ˆè®¢é˜… | å–æ¶ˆä¸€ä¸ªæˆ–æ‰€æœ‰è®¢é˜… | `unsubscribe_project` |
| æŸ¥çœ‹è®¢é˜… | æŸ¥çœ‹æˆ‘çš„æ‰€æœ‰è®¢é˜… | `list_my_subscriptions` |
| ç»Ÿè®¡ä¿¡æ¯ | æŸ¥çœ‹è®¢é˜…ç»Ÿè®¡æ•°æ® | `get_subscription_stats` |

### 2. æŠ¥å‘Šç”Ÿæˆ

| åŠŸèƒ½ | è¯´æ˜ | å·¥å…·åç§° |
|------|------|----------|
| æ‰‹åŠ¨ç”Ÿæˆ | ç«‹å³ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š | `generate_subscription_report` |
| è‡ªåŠ¨æ¨é€ | å®šæ—¶æ¨é€åˆ°æŒ‡å®šæ¸ é“ | (Scheduler è‡ªåŠ¨æ‰§è¡Œ) |

### 3. æ¨é€é…ç½®

| é…ç½®é¡¹ | å¯é€‰å€¼ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|--------|------|
| **é¢‘ç‡** | `realtime`, `daily`, `weekly`, `monthly` | `daily` | æ¨é€é¢‘ç‡ |
| **çº§åˆ«** | `brief`, `detailed` | `brief` | æŠ¥å‘Šè¯¦ç»†ç¨‹åº¦ |
| **æ—¶é—´** | `"HH:MM"`, `"Ddd HH:MM"`, `"DD HH:MM"` | `09:00` | æ¨é€æ—¶é—´ |
| **æ¸ é“** | `dingtalk`, `telegram` | `dingtalk` | æ¨é€æ¸ é“ |

---

## ğŸ“Š æŠ¥å‘Šå†…å®¹

### ç®€è¦æŠ¥å‘Š (Brief)

**Token æ¶ˆè€—**: ~500 tokens  
**é€‚ç”¨**: å¿«é€Ÿæµè§ˆã€ç§»åŠ¨ç«¯æŸ¥çœ‹

**åŒ…å«å†…å®¹**:
- ğŸ“ˆ çŠ¶æ€å¿«ç…§
  - Issue æ€»æ•°
  - ä»Šæ—¥æ–°å»º/å…³é—­/æ›´æ–°æ•°é‡
- ğŸ”´ ä¼˜å…ˆçº§äº®ç‚¹
  - ç«‹åˆ»/ç´§æ€¥/é«˜ä¼˜å…ˆçº§æ•°é‡
  - TOP 5 é«˜ä¼˜å…ˆçº§ Issue åˆ—è¡¨

**ç¤ºä¾‹**:
```
ğŸ“Š é¡¹ç›®è®¢é˜…æŠ¥å‘Š
ğŸ“ é¡¹ç›® ID: 341
ğŸ“… 2026-02-26 09:00

â”â”â”

### ğŸ“ˆ çŠ¶æ€å¿«ç…§
- Issue æ€»æ•°ï¼š129
- æ–°å»º (ä»Šæ—¥): 129
- å…³é—­ (ä»Šæ—¥): 0
- æ›´æ–° (ä»Šæ—¥): 21

**ä¼˜å…ˆçº§åˆ†å¸ƒ**:
- ğŸ”´ ç«‹åˆ»ï¼š2
- ğŸŸ  ç´§æ€¥ï¼š13
- ğŸŸ¡ é«˜ï¼š19

### ğŸ”´ é«˜ä¼˜å…ˆçº§ Issue
- ğŸ”´ #77684 å‡ºä¸­é—´åº“â€”â€”è¯·è”ç³»ç®¡ç†å‘˜
- ğŸ”´ #76820 æ‰¹æ¬¡ä½œä¸šç•Œé¢ä¼˜åŒ–
- ğŸŸ  #75858 ã€æ±‡æ€»ã€‘ã€å·¥è‰ºè§„åˆ’ã€‘
...

â”â”â”
```

---

### è¯¦ç»†æŠ¥å‘Š (Detailed)

**Token æ¶ˆè€—**: ~2000 tokens  
**é€‚ç”¨**: æ·±åº¦åˆ†æã€å‘¨æŠ¥æœˆæŠ¥

**åŒ…å«å†…å®¹**:
- âœ… ç®€è¦æŠ¥å‘Šå…¨éƒ¨å†…å®¹
- ğŸ“Š å®Œæ•´ä¼˜å…ˆçº§åˆ†å¸ƒ
- ğŸ“Š å®Œæ•´çŠ¶æ€åˆ†å¸ƒ
- ğŸ‘¥ äººå‘˜ä»»åŠ¡é‡ TOP 10
- ğŸ”´ é«˜ä¼˜å…ˆçº§ Issue è¯¦æƒ…ï¼ˆæœ€å¤š 20 ä¸ªï¼‰
- âš ï¸ é€¾æœŸé£é™©è¯†åˆ«ï¼ˆ>30 å¤©æœªå…³é—­ï¼‰
- ğŸ’¡ é¡¹ç›®æ´å¯Ÿä¸å»ºè®®

**ç¤ºä¾‹**:
```
ğŸ“Š é¡¹ç›®è®¢é˜…æŠ¥å‘Šï¼ˆè¯¦ç»†ç‰ˆï¼‰
ğŸ“ é¡¹ç›® ID: 341
ğŸ“… 2026-02-26 09:00

â”â”â”

### ğŸ“ˆ çŠ¶æ€å¿«ç…§
- Issue æ€»æ•°ï¼š129
- æ–°å»º (ä»Šæ—¥): 129
- å…³é—­ (ä»Šæ—¥): 0
- æ›´æ–° (ä»Šæ—¥): 21

### ğŸ“Š ä¼˜å…ˆçº§åˆ†å¸ƒ
- ğŸ”´ ç«‹åˆ»ï¼š2
- ğŸŸ  ç´§æ€¥ï¼š13
- ğŸŸ¡ é«˜ï¼š19
- âšª æ™®é€šï¼š94
- ğŸ”µ ä½ï¼š1

### ğŸ“Š çŠ¶æ€åˆ†å¸ƒ
- æ–°å»ºï¼š86
- è¿›è¡Œä¸­ï¼š16
- å·²è§£å†³ï¼š5
- å·²å…³é—­ï¼š0
- åé¦ˆï¼š9

### ğŸ‘¥ äººå‘˜ä»»åŠ¡é‡ TOP5
- ä»˜ å¿—å½¬ï¼š50 ä»»åŠ¡ (48 è¿›è¡Œä¸­)
- ç™½ å¦‚å³°ï¼š18 ä»»åŠ¡ (13 è¿›è¡Œä¸­)
- æ±ª æ™“å¨Ÿï¼š14 ä»»åŠ¡ (12 è¿›è¡Œä¸­)
...

### âš ï¸ é€¾æœŸé£é™© (>30 å¤©)
- #75364 è®¢å•ç®¡ç†æ¨¡å—è¿ç§» - ä»˜ å¿—å½¬ (107 å¤©)
- #75418 åœ¨åˆ¶å“æŸ¥è¯¢ - ä»˜ å¿—å½¬ (106 å¤©)
- #75421 ç‰¹æ®Šåœ¨åˆ¶å“ç®¡ç† - æ›¾ è² (106 å¤©)
...

### ğŸ’¡ å»ºè®®è¡ŒåŠ¨
1. æœ¬å‘¨ä¼˜å…ˆå¤„ç† 10 ä¸ªé€¾æœŸç´§æ€¥ Issue
2. ä»˜ å¿—å½¬ è´Ÿè½½è¿‡é«˜ï¼Œå»ºè®®åˆ†æ‹…ä»»åŠ¡
3. å¤šä¸ª Issue åˆ›å»ºè¶…è¿‡ 100 å¤©ï¼Œéœ€å…³æ³¨è¿›åº¦

â”â”â”
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1: æŸ¥çœ‹å¯ç”¨å·¥å…·

åœ¨é’‰é’‰æˆ– Telegram ä¸­å‘é€ï¼š
```
/tools
```

æ‰¾åˆ°è®¢é˜…ç›¸å…³å·¥å…·ï¼š
- `subscribe_project`
- `unsubscribe_project`
- `list_my_subscriptions`
- `get_subscription_stats`
- `generate_subscription_report`

### æ­¥éª¤ 2: è®¢é˜…ç¬¬ä¸€ä¸ªé¡¹ç›®

å‘é€æ¶ˆæ¯è°ƒç”¨å·¥å…·ï¼š
```json
{
  "name": "subscribe_project",
  "arguments": {
    "project_id": 341,
    "frequency": "daily",
    "level": "brief",
    "push_time": "09:00"
  }
}
```

æˆ–åœ¨èŠå¤©ä¸­ç›´æ¥è¯´ï¼š
> å¸®æˆ‘è®¢é˜…é¡¹ç›® 341ï¼Œæ¯å¤©æ—©ä¸Š 9 ç‚¹å‘é€ç®€è¦æŠ¥å‘Š

### æ­¥éª¤ 3: æŸ¥çœ‹è®¢é˜…

```json
{
  "name": "list_my_subscriptions",
  "arguments": {}
}
```

### æ­¥éª¤ 4: æ¥æ”¶æŠ¥å‘Š

ç³»ç»Ÿåœ¨é…ç½®çš„æ—¶é—´è‡ªåŠ¨æ¨é€æŠ¥å‘Šåˆ°é’‰é’‰/Telegramã€‚

---

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: è®¢é˜…å¤šä¸ªé¡¹ç›®

```bash
# æ–°é¡º CIM - æ¯æ—¥ç®€è¦
subscribe_project(project_id=341, frequency="daily", level="brief", push_time="09:00")

# å·¥ç ”é™¢ MES - æ¯æ—¥ç®€è¦
subscribe_project(project_id=372, frequency="daily", level="brief", push_time="09:30")

# æŸ¥çœ‹è®¢é˜…
list_my_subscriptions()
```

### ç¤ºä¾‹ 2: ä¿®æ”¹è®¢é˜…é…ç½®

```bash
# å…ˆå–æ¶ˆ
unsubscribe_project(project_id=341)

# é‡æ–°è®¢é˜…ï¼ˆä¿®æ”¹ä¸ºè¯¦ç»†ç‰ˆï¼‰
subscribe_project(project_id=341, frequency="daily", level="detailed", push_time="09:00")
```

### ç¤ºä¾‹ 3: ä¸´æ—¶æŸ¥çœ‹æŠ¥å‘Š

```bash
# ç”Ÿæˆç®€è¦æŠ¥å‘Š
generate_subscription_report(project_id=341, level="brief")

# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
generate_subscription_report(project_id=341, level="detailed")
```

### ç¤ºä¾‹ 4: æŸ¥çœ‹ç»Ÿè®¡

```bash
get_subscription_stats()
```

è¿”å›ï¼š
```json
{
  "total_subscriptions": 2,
  "by_frequency": {"daily": 2},
  "by_channel": {"dingtalk": 2},
  "by_project": {"341": 1, "372": 1},
  "active_subscriptions": 2
}
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åœ¨ `.env.docker` ä¸­é…ç½®ï¼š

```bash
# è®¢é˜…åŠŸèƒ½é…ç½®
SUBSCRIPTIONS_FILE=./data/subscriptions.json

# æ¨é€æ¸ é“
DINGTALK_ENABLED=true
TELEGRAM_ENABLED=true

# é»˜è®¤è®¾ç½®
DEFAULT_SUBSCRIPTION_FREQUENCY=daily
DEFAULT_SUBSCRIPTION_LEVEL=brief
DEFAULT_PUSH_TIME=09:00
```

### æ•°æ®å­˜å‚¨

è®¢é˜…é…ç½®å­˜å‚¨åœ¨ `./data/subscriptions.json`ï¼Œæ ¼å¼ï¼š

```json
{
  "user123:341:dingtalk": {
    "user_id": "user123",
    "project_id": 341,
    "channel": "dingtalk",
    "channel_id": "default",
    "frequency": "daily",
    "level": "brief",
    "push_time": "09:00",
    "created_at": "2026-02-26T06:05:12.384523",
    "updated_at": "2026-02-26T06:05:12.384523",
    "enabled": true
  }
}
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ›´æ”¹æ¨é€æ—¶é—´ï¼Ÿ

**A**: å–æ¶ˆè®¢é˜…åé‡æ–°è®¢é˜…ï¼ŒæŒ‡å®šæ–°çš„ `push_time`ã€‚

### Q2: å¯ä»¥åŒæ—¶è®¢é˜…å¤šä¸ªé¡¹ç›®å—ï¼Ÿ

**A**: å¯ä»¥ï¼Œæ²¡æœ‰æ•°é‡é™åˆ¶ã€‚

### Q3: ç®€è¦æŠ¥å‘Šå’Œè¯¦ç»†æŠ¥å‘Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**: 
- ç®€è¦ç‰ˆï¼š~500 tokensï¼Œå…³é”®æŒ‡æ ‡ + TOP 5 é«˜ä¼˜å…ˆçº§ Issue
- è¯¦ç»†ç‰ˆï¼š~2000 tokensï¼Œå®Œæ•´åˆ†æ + é£é™©è¯†åˆ« + å»ºè®®

### Q4: å¦‚ä½•æš‚åœè®¢é˜…ï¼Ÿ

**A**: ä½¿ç”¨ `unsubscribe_project()` å–æ¶ˆï¼Œéœ€è¦æ—¶é‡æ–°è®¢é˜…ã€‚

### Q5: æ”¯æŒé‚®ä»¶æ¨é€å—ï¼Ÿ

**A**: å½“å‰ç‰ˆæœ¬æ”¯æŒé’‰é’‰å’Œ Telegramï¼Œé‚®ä»¶æ¨é€åœ¨è§„åˆ’ä¸­ã€‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **æ–‡æ¡£**: `/docker/redmine-mcp-server/docs/feature/`
- **æ—¥å¿—**: `docker logs redmine-mcp-server`
- **GitHub**: https://github.com/newmanspace/redmine-mcp-server

---

**æœ€åæ›´æ–°**: 2026-02-26  
**ç»´æŠ¤è€…**: OpenJaw <openjaw@gmail.com>
